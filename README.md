# BotTelegram 
Наша команда: Сергей Павлюк, Юля Пахомова, Ольга Овсянкина, Дарья Демидова. Все мы из 31 группы.
Этот бот написан на Python.
А сейчас расскажем, что за библиотеки мы использовали.
# Описания API приложения
Чтоб была возможность общения нашей программы с telegram, мы использовали библиотеку python-telegram-bot(ссылка на библиотеку https://github.com/python-telegram-bot/python-telegram-bot)
Разобраться в этой библиотеке было не так сложно, так как куча официальных примеров (ссылка на примеры https://github.com/python-telegram-bot/python-telegram-bot/blob/master/examples/README.md), и хорошая документация(ссылка на док. https://core.telegram.org/bots/api).
# ChatterBot
При помощи этой библиотеки мы его научили разговаривать.
ChatterBot — это библиотека Python,
предназначенная для упрощения создания программного обеспечения, которое может участвовать в диалоге.
Необученный экземпляр ChatterBot не знает, как общаться. 
Каждый раз, когда пользователь вводит оператор , библиотека сохраняет текст, который он ввел, и текст, ответом на который был оператор. 
По мере того, как ChatterBot получает больше входных данных, количество ответов, на которые он может ответить,
и точность каждого ответа по отношению к оператору ввода увеличиваются.

Программа выбирает наиболее близкий соответствующий ответ путем поиска ближайшего соответствующего известного утверждения, которое соответствует входным данным,
а затем выбирает ответ из набора известных ответов на это утверждение.
(ссылка на док. https://chatterbot.readthedocs.io/en/stable/)
(ссылка на код https://github.com/gunthercox/ChatterBot)
## Диаграмма процессавы
![](https://chatterbot.readthedocs.io/en/stable/_images/chatterbot-process-flow.svg)
# Описания алгоритма распознавания
Была использована библиотека OpenCV (ссылка на док. https://github.com/opencv/opencv-python)
Для определения гендера потребовалась CNN (это мощная обработка изображений, искусственный интеллект, 
которые используют глубокое обучение для выполнения как генеративных, так и описательных задач , часто используя машинное зрение, 
которое включает распознавание изображений и видео, а также рекомендательные системы и обработку естественного языка)
## Архитектура CNN
Сверточная нейронная сеть для этого проекта Python имеет 3 сверточных слоя:

- сверточный слой; 96 узлов, размер ядра 7
- сверточный слой; 256 узлов, размер ядра 5
- сверточный слой; 384 узла, размер ядра 3
Он имеет 2 полносвязных слоя, каждый с 512 узлами, и последний выходной слой типа softmax.

Чтобы заняться проектом Python, мы:

- Обнаружение лиц
- Классифицировать на мужские/женские
- Классифицировать в один из 8 возрастных диапазонов
## Набор данных
Для этого проекта Python мы будем использовать набор данных Adience; набор данных доступен в открытом доступе, 
и вы можете найти его здесь (https://www.kaggle.com/datasets/ttungl/adience-benchmark-gender-and-age-classification). Этот набор данных служит эталоном для фотографий лиц и включает в себя различные реальные условия изображения, такие как шум, освещение, поза и внешний вид. Изображения были собраны из альбомов Flickr и распространены по лицензии Creative Commons (CC). Он содержит 
в общей сложности 26 580 фотографий 2284 человек в восьми возрастных группах (как упоминалось выше) 
и имеет размер около 1 ГБ. Модели, которые мы будем использовать, были обучены на этом наборе данных.
Так как обучать очень долго, мы использовали уже обученную модель. Найти её можно здесь 
(https://data-flair.training/blogs/python-project-gender-age-detection/)
Обученная модель лежит в папке data.
Логика обработки изображения лежит в файле gender.py
Нужно просто отправить изображение с человеком.
И он на основе гендера, скажет комплимент.
Комплименты лежат в файлах female, male.
Чтоб комплименты были разными мы воспользовались генератором.
Также чтоб был не текст а голосовое сообщение, пришлось вставить gTTS(ссылка на док. https://github.com/pndurette/gTTS).
# Демотиватор
![](https://demotivatorium.ru/sstorage/3/2020/01/05195805256868/demotivatorium_ru_kitajskie_hakeri_s_pomosh_u_jazikov_182395.jpg)
#
Его логика находится в файле Demotivator.py 
Если к фотографии приходит приписка, которая находится в caption, мы делаем демотиватор со словами из приписки.
# Википедия
Здесь всё просто. Библиотека wikipedia (ссылка на док. https://github.com/goldsmith/Wikipedia).  
/wiki "что ищем" -
потом там осуществляется поиск, если не получилось найти прийдёт ошибка: "В энциклопедии нет информации об этом".
# пользовательский опыт
Проверки и тесты бота мы проводили как в личных чатах, так и в групповых. Процесс был интересным и увлекательным. Больше положительного, чем отрицательного. Есть большое желание посадить код на хост и дальше улудшать.
Также было бы комфортнее пересадить код на фреймворк ,например Django, уже даже создана библиотека django-telegram-bot(ссылка на код https://github.com/ohld/django-telegram-bot).
# Быстрый старт
1. Склонируйте репозиторий себе:
```
$ git clone https://github.com/KikiPadoru/BotTelegram.git
```
2. Пробуем установить все нужные нам пакеты:
```
$ pip install -r requirements.txt 
```
Если произошла ошибка с пакетами и тд, советую использовать Anaconda. Anaconda — дистрибутив языков программирования Python и R, включающий набор популярных свободных библиотек, объединённых проблематиками науки о данных и машинного обучения.
https://www.anaconda.com/products/distribution
3. Нужно вставить свой токен 
4. Запускаем TelegramBot.py 
